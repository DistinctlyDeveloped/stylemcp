<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Documentation â€“ StyleMCP</title>
  <meta name="description" content="Learn how to use StyleMCP to validate and rewrite AI-generated content to match your brand voice.">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=IBM+Plex+Mono:wght@400;500;600&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg-cream: #FAF8F5;
      --bg-paper: #FFFFFF;
      --bg-warm: #F5F2ED;
      --bg-dark: #1A1918;
      --bg-ink: #0D0C0B;
      --text-primary: #1A1918;
      --text-secondary: #5C5856;
      --text-tertiary: #8A8684;
      --text-inverse: #FAF8F5;
      --accent: #E85D04;
      --accent-hover: #D45003;
      --accent-soft: #FFF0E6;
      --success: #2D6A4F;
      --success-soft: #D8F3DC;
      --warning: #CC8B00;
      --warning-soft: #FFF3CD;
      --error: #9D0208;
      --error-soft: #FFE5E5;
      --border: #E8E4DF;
      --border-strong: #D4CFC8;
      --shadow-sm: 0 1px 2px rgba(26, 25, 24, 0.04);
      --shadow-md: 0 4px 12px rgba(26, 25, 24, 0.08);
      --radius-sm: 6px;
      --radius-md: 12px;
      --radius-lg: 20px;
      --font-serif: 'Instrument Serif', Georgia, serif;
      --font-sans: 'Plus Jakarta Sans', -apple-system, sans-serif;
      --font-mono: 'IBM Plex Mono', monospace;
    }

    html { -webkit-font-smoothing: antialiased; scroll-behavior: smooth; }
    body { font-family: var(--font-sans); background: var(--bg-cream); color: var(--text-primary); line-height: 1.6; min-height: 100vh; }

    /* ===== PUBLIC LAYOUT (not logged in) ===== */
    .public-layout { display: block; }
    .public-layout .public-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: rgba(250, 248, 245, 0.85);
      backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid var(--border);
    }
    .public-layout .nav-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 72px;
    }
    .public-layout .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      color: var(--text-primary);
    }
    .public-layout .logo-mark {
      width: 40px;
      height: 40px;
      background: var(--bg-dark);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--font-serif);
      font-size: 24px;
      font-style: italic;
      color: var(--text-inverse);
    }
    .public-layout .logo-text {
      font-weight: 600;
      font-size: 18px;
      letter-spacing: -0.02em;
    }
    .public-layout .nav-links {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .public-layout .nav-link {
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      text-decoration: none;
      border-radius: var(--radius-sm);
      transition: all 0.2s;
    }
    .public-layout .nav-link:hover { color: var(--text-primary); background: var(--bg-warm); }
    .public-layout .nav-link.active { color: var(--accent); background: var(--accent-soft); }
    .public-layout .nav-cta {
      margin-left: 8px;
      padding: 10px 20px;
      background: var(--bg-dark);
      color: var(--text-inverse);
      font-size: 14px;
      font-weight: 600;
      text-decoration: none;
      border-radius: var(--radius-sm);
      transition: all 0.2s;
    }
    .public-layout .nav-cta:hover { background: var(--accent); }

    .public-layout .docs-wrapper {
      padding-top: 72px;
      display: flex;
      max-width: 1200px;
      margin: 0 auto;
      min-height: calc(100vh - 72px);
    }
    .public-layout .docs-sidebar {
      width: 260px;
      flex-shrink: 0;
      background: var(--bg-paper);
      border-right: 1px solid var(--border);
      padding: 32px 24px;
      position: sticky;
      top: 72px;
      height: calc(100vh - 72px);
      overflow-y: auto;
    }
    .public-layout .docs-main {
      flex: 1;
      padding: 48px;
      max-width: calc(1200px - 260px);
    }

    /* ===== AUTHENTICATED LAYOUT (logged in) ===== */
    .auth-layout { display: none; min-height: 100vh; }
    .auth-layout.active { display: flex; }
    .public-layout.hidden { display: none; }

    .auth-layout .sidebar {
      width: 260px;
      background: var(--bg-paper);
      border-right: 1px solid var(--border);
      padding: 24px;
      position: fixed;
      height: 100vh;
      display: flex;
      flex-direction: column;
      z-index: 50;
    }

    .sidebar-header { margin-bottom: 32px; flex-shrink: 0; }

    .sidebar-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      color: var(--text-primary);
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: var(--bg-dark);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--font-serif);
      font-size: 22px;
      font-style: italic;
      color: var(--text-inverse);
    }

    .sidebar-logo span {
      font-weight: 600;
      font-size: 17px;
      letter-spacing: -0.02em;
    }

    .sidebar-nav {
      flex: 1;
      overflow-y: auto;
      margin-right: -12px;
      padding-right: 12px;
    }

    .sidebar-nav::-webkit-scrollbar { width: 4px; }
    .sidebar-nav::-webkit-scrollbar-track { background: transparent; }
    .sidebar-nav::-webkit-scrollbar-thumb { background: var(--border-strong); border-radius: 2px; }

    .nav-section { margin-bottom: 24px; }

    .nav-label {
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-tertiary);
      padding: 0 12px;
      margin-bottom: 10px;
    }

    .sidebar-nav .nav-link {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 11px 12px;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      border-radius: var(--radius-md);
      margin-bottom: 4px;
      transition: all 0.2s;
      position: relative;
    }

    .sidebar-nav .nav-link:hover { background: var(--bg-warm); color: var(--text-primary); }
    .sidebar-nav .nav-link.active { background: var(--accent-soft); color: var(--accent); }

    .sidebar-nav .nav-link.active::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 3px;
      height: 20px;
      background: var(--accent);
      border-radius: 0 2px 2px 0;
    }

    .sidebar-nav .nav-link svg { width: 18px; height: 18px; flex-shrink: 0; }

    /* Expandable submenu */
    .nav-submenu {
      margin-left: 30px;
      margin-top: 4px;
      padding-left: 12px;
      border-left: 1px solid var(--border);
    }

    .nav-submenu .nav-sublink {
      display: block;
      padding: 8px 12px;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;
      border-radius: var(--radius-sm);
      margin-bottom: 2px;
      transition: all 0.2s;
    }

    .nav-submenu .nav-sublink:hover { background: var(--bg-warm); color: var(--text-primary); }
    .nav-submenu .nav-sublink.active { background: var(--accent-soft); color: var(--accent); font-weight: 600; }

    .nav-submenu-title {
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-tertiary);
      margin: 12px 0 8px 12px;
    }

    .sidebar-footer {
      margin-top: auto;
      padding-top: 24px;
      border-top: 1px solid var(--border);
      flex-shrink: 0;
    }

    .user-card {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--bg-warm);
      border-radius: var(--radius-md);
      margin-bottom: 12px;
    }

    .user-avatar {
      width: 36px;
      height: 36px;
      background: var(--accent);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
      color: white;
    }

    .user-info { flex: 1; min-width: 0; }
    .user-name { font-weight: 600; font-size: 13px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .user-email { font-size: 12px; color: var(--text-tertiary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

    .btn-logout {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: 100%;
      padding: 10px;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-logout:hover { background: var(--error-soft); border-color: var(--error); color: var(--error); }
    .btn-logout svg { width: 16px; height: 16px; }

    .auth-layout .main {
      flex: 1;
      margin-left: 260px;
      padding: 48px;
      padding-bottom: 100px;
      min-height: 100vh;
      overflow-y: auto;
    }

    /* ===== SHARED STYLES ===== */
    .main-content, .docs-content {
      max-width: 780px;
    }

    /* Sidebar section styles (for public docs sidebar) */
    .sidebar-section { margin-bottom: 28px; }
    .sidebar-title { font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-tertiary); margin-bottom: 12px; padding-left: 12px; }
    .sidebar-link { display: block; padding: 10px 12px; color: var(--text-secondary); text-decoration: none; font-size: 14px; font-weight: 500; border-radius: var(--radius-sm); margin-bottom: 2px; transition: all 0.2s; }
    .sidebar-link:hover { background: var(--bg-warm); color: var(--text-primary); }
    .sidebar-link.active { background: var(--accent-soft); color: var(--accent); font-weight: 600; }

    /* Typography */
    h1 { font-family: var(--font-serif); font-size: 40px; font-weight: 400; margin-bottom: 16px; letter-spacing: -0.02em; }
    h2 { font-family: var(--font-serif); font-size: 28px; font-weight: 400; margin-top: 56px; margin-bottom: 20px; padding-top: 32px; border-top: 1px solid var(--border); }
    h3 { font-size: 18px; font-weight: 600; margin-top: 36px; margin-bottom: 14px; }

    p { color: var(--text-secondary); margin-bottom: 18px; }
    p code { background: var(--bg-warm); padding: 3px 8px; border-radius: 4px; font-family: var(--font-mono); font-size: 0.88em; color: var(--text-primary); }

    .lead { font-size: 19px; color: var(--text-primary); margin-bottom: 36px; line-height: 1.6; }

    ul, ol { color: var(--text-secondary); margin-bottom: 18px; padding-left: 24px; }
    li { margin-bottom: 10px; }
    li code { background: var(--bg-warm); padding: 2px 6px; border-radius: 4px; font-family: var(--font-mono); font-size: 0.88em; color: var(--text-primary); }

    .main-content a, .docs-content a { color: var(--accent); text-decoration: none; }
    .main-content a:hover, .docs-content a:hover { text-decoration: underline; }

    /* Code blocks */
    .code-block { background: var(--bg-ink); border-radius: var(--radius-md); margin: 28px 0; overflow: hidden; box-shadow: var(--shadow-md); }
    .code-header { display: flex; justify-content: space-between; align-items: center; padding: 14px 20px; background: rgba(255, 255, 255, 0.03); border-bottom: 1px solid rgba(255, 255, 255, 0.06); font-size: 12px; color: rgba(255, 255, 255, 0.4); font-family: var(--font-mono); }
    .code-body { padding: 20px; font-family: var(--font-mono); font-size: 14px; overflow-x: auto; line-height: 1.7; color: rgba(255, 255, 255, 0.85); white-space: pre; }
    .code-body .comment { color: #6b7280; }
    .code-body .string { color: #98C379; }
    .code-body .key { color: #E9967A; }
    .code-body .number { color: #D19A66; }
    .code-body .boolean { color: #56B6C2; }

    .endpoint { display: inline-flex; align-items: center; gap: 10px; padding: 6px 14px; background: var(--bg-paper); border: 1px solid var(--border); border-radius: var(--radius-sm); font-family: var(--font-mono); font-size: 14px; margin: 6px 0; }
    .method { padding: 3px 8px; border-radius: 4px; font-weight: 600; font-size: 11px; text-transform: uppercase; }
    .method.get { background: var(--success-soft); color: var(--success); }
    .method.post { background: var(--accent-soft); color: var(--accent); }

    .callout { padding: 20px 24px; border-radius: var(--radius-md); margin: 28px 0; border-left: 4px solid; }
    .callout.info { background: var(--accent-soft); border-color: var(--accent); }
    .callout.warning { background: var(--warning-soft); border-color: var(--warning); }
    .callout.success { background: var(--success-soft); border-color: var(--success); }
    .callout p { margin: 0; color: var(--text-primary); }

    .table-wrapper { overflow-x: auto; margin: 28px 0; border: 1px solid var(--border); border-radius: var(--radius-md); }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 14px 18px; text-align: left; border-bottom: 1px solid var(--border); }
    th { font-weight: 600; color: var(--text-primary); background: var(--bg-warm); font-size: 13px; text-transform: uppercase; letter-spacing: 0.05em; }
    td { color: var(--text-secondary); font-size: 14px; }
    td code { background: var(--bg-warm); padding: 2px 6px; border-radius: 4px; font-family: var(--font-mono); font-size: 0.88em; }
    tr:last-child td { border-bottom: none; }

    /* Responsive */
    @media (max-width: 768px) {
      .public-layout .docs-sidebar { display: none; }
      .public-layout .docs-main { padding: 24px; max-width: 100%; }
      .auth-layout .sidebar { display: none; }
      .auth-layout .main { margin-left: 0; padding: 24px; }
    }
  </style>
</head>
<body>
  <!-- PUBLIC LAYOUT (shown when not logged in) -->
  <div class="public-layout" id="publicLayout">
    <nav class="public-nav">
      <div class="nav-inner">
        <a href="/" class="logo">
          <div class="logo-mark">S</div>
          <span class="logo-text">StyleMCP</span>
        </a>
        <div class="nav-links">
          <a href="/#features" class="nav-link">Features</a>
          <a href="/docs.html" class="nav-link active">Docs</a>
          <a href="/pricing.html" class="nav-link">Pricing</a>
          <a href="/blog.html" class="nav-link">Blog</a>
          <a href="/login.html" class="nav-link">Login</a>
          <a href="/signup.html" class="nav-cta">Get Started</a>
        </div>
      </div>
    </nav>

    <div class="docs-wrapper">
      <aside class="docs-sidebar">
        <div class="sidebar-section">
          <div class="sidebar-title">Getting Started</div>
          <a href="#introduction" class="sidebar-link active">Introduction</a>
          <a href="#quick-start" class="sidebar-link">Quick Start</a>
          <a href="#authentication" class="sidebar-link">Authentication</a>
        </div>
        <div class="sidebar-section">
          <div class="sidebar-title">API Reference</div>
          <a href="#validate" class="sidebar-link">Validate Text</a>
          <a href="#rewrite" class="sidebar-link">Rewrite Text</a>
          <a href="#batch" class="sidebar-link">Batch Operations</a>
          <a href="#packs" class="sidebar-link">Style Packs</a>
        </div>
        <div class="sidebar-section">
          <div class="sidebar-title">Integrations</div>
          <a href="#mcp" class="sidebar-link">MCP Server</a>
          <a href="#cli" class="sidebar-link">CLI</a>
          <a href="#github-action" class="sidebar-link">GitHub Action</a>
        </div>
        <div class="sidebar-section">
          <div class="sidebar-title">Advanced</div>
          <a href="#custom-packs" class="sidebar-link">Custom Packs</a>
          <a href="#self-hosting" class="sidebar-link">Self-Hosting</a>
        </div>
      </aside>

      <main class="docs-main">
        <div class="docs-content" id="docsContent">
          <!-- Docs content will be here -->
        </div>
      </main>
    </div>
  </div>

  <!-- AUTHENTICATED LAYOUT (shown when logged in) -->
  <div class="auth-layout" id="authLayout">
    <nav class="sidebar">
      <div class="sidebar-header">
        <a href="/" class="sidebar-logo">
          <div class="logo-icon">S</div>
          <span>StyleMCP</span>
        </a>
      </div>

      <div class="sidebar-nav">
        <div class="nav-section">
          <div class="nav-label">Overview</div>
          <a href="/dashboard.html" class="nav-link">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"/></svg>
            Dashboard
          </a>
          <a href="/docs.html" class="nav-link active">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
            Documentation
          </a>
          <div class="nav-submenu">
            <div class="nav-submenu-title">Getting Started</div>
            <a href="#introduction" class="nav-sublink active">Introduction</a>
            <a href="#quick-start" class="nav-sublink">Quick Start</a>
            <a href="#authentication" class="nav-sublink">Authentication</a>
            
            <div class="nav-submenu-title">API Reference</div>
            <a href="#validate" class="nav-sublink">Validate Text</a>
            <a href="#rewrite" class="nav-sublink">Rewrite Text</a>
            <a href="#batch" class="nav-sublink">Batch Operations</a>
            <a href="#packs" class="nav-sublink">Style Packs</a>
            
            <div class="nav-submenu-title">Integrations</div>
            <a href="#mcp" class="nav-sublink">MCP Server</a>
            <a href="#cli" class="nav-sublink">CLI</a>
            <a href="#github-action" class="nav-sublink">GitHub Action</a>
            
            <div class="nav-submenu-title">Advanced</div>
            <a href="#custom-packs" class="nav-sublink">Custom Packs</a>
            <a href="#self-hosting" class="nav-sublink">Self-Hosting</a>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-label">Account</div>
          <a href="/pricing.html" class="nav-link">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/></svg>
            Billing
          </a>
          <a href="/status.html" class="nav-link">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
            API Status
          </a>
        </div>
      </div>

      <div class="sidebar-footer">
        <div class="user-card">
          <div class="user-avatar" id="userAvatar">?</div>
          <div class="user-info">
            <div class="user-name" id="userName">Loading...</div>
            <div class="user-email" id="userEmail">...</div>
          </div>
        </div>
        <button class="btn-logout" onclick="handleLogout()">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
          Sign Out
        </button>
      </div>
    </nav>

    <main class="main">
      <div class="main-content" id="authDocsContent">
        <!-- Docs content will be cloned here -->
      </div>
    </main>
  </div>

  <script>
    // Documentation content (shared between layouts)
    const docsHTML = `
      <h1 id="introduction">Documentation</h1>
      <p class="lead">StyleMCP validates and rewrites AI-generated text to match your brand voice. Use it as an API, MCP server, CLI, or GitHub Action.</p>

      <div class="callout info">
        <p><strong>New to StyleMCP?</strong> Start with the <a href="#quick-start">Quick Start</a> guide to make your first API call in under 2 minutes.</p>
      </div>

      <h2 id="quick-start">Quick Start</h2>
      <p>The fastest way to try StyleMCP is with a simple cURL request. No signup required for the demo endpoint.</p>

      <div class="code-block">
        <div class="code-header">Terminal</div>
        <div class="code-body">curl -X POST https://stylemcp.com/api/validate \\
  -H "Content-Type: application/json" \\
  -d '{
    "text": "We are pleased to inform you that...",
    "pack": "saas"
  }'</div>
      </div>

      <h3>Response</h3>
      <div class="code-block">
        <div class="code-header">JSON</div>
        <div class="code-body">{
  <span class="key">"valid"</span>: <span class="boolean">false</span>,
  <span class="key">"score"</span>: <span class="number">72</span>,
  <span class="key">"violations"</span>: [
    {
      <span class="key">"rule"</span>: <span class="string">"forbidden_phrase"</span>,
      <span class="key">"match"</span>: <span class="string">"We are pleased to inform you"</span>,
      <span class="key">"suggestion"</span>: <span class="string">"Use direct language instead"</span>
    }
  ]
}</div>
      </div>

      <h2 id="authentication">Authentication</h2>
      <p>For production use, you'll need an API key. Find yours in your <a href="/dashboard.html">dashboard</a>.</p>

      <div class="code-block">
        <div class="code-header">Terminal</div>
        <div class="code-body">curl -X POST https://stylemcp.com/api/validate \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -d '{"text": "Your text here", "pack": "saas"}'</div>
      </div>

      <h2 id="validate">Validate Text</h2>
      <p>Check text against your brand voice rules without modifying it.</p>

      <div class="endpoint">
        <span class="method post">POST</span>
        <code>/api/validate</code>
      </div>

      <h3>Request Body</h3>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
          </thead>
          <tbody>
            <tr><td><code>text</code></td><td>string</td><td>The text to validate (required)</td></tr>
            <tr><td><code>pack</code></td><td>string</td><td>Style pack ID (default: "saas")</td></tr>
            <tr><td><code>strict</code></td><td>boolean</td><td>Enable strict mode for more violations</td></tr>
          </tbody>
        </table>
      </div>

      <h2 id="rewrite">Rewrite Text</h2>
      <p>Automatically fix violations and rewrite text to match your brand voice. <strong>Pro plan required.</strong></p>

      <div class="endpoint">
        <span class="method post">POST</span>
        <code>/api/rewrite</code>
      </div>

      <h2 id="batch">Batch Operations</h2>
      <p>Validate or rewrite multiple texts in a single request.</p>

      <div class="endpoint">
        <span class="method post">POST</span>
        <code>/api/batch/validate</code>
      </div>

      <h2 id="packs">Style Packs</h2>
      <p>StyleMCP includes pre-built style packs for common industries:</p>

      <div class="table-wrapper">
        <table>
          <thead>
            <tr><th>Pack ID</th><th>Industry</th><th>Description</th></tr>
          </thead>
          <tbody>
            <tr><td><code>saas</code></td><td>SaaS / Tech</td><td>Modern, friendly, professional tech writing</td></tr>
            <tr><td><code>healthcare</code></td><td>Healthcare</td><td>Empathetic, clear, compliant medical content</td></tr>
            <tr><td><code>finance</code></td><td>Finance</td><td>Trustworthy, precise financial communication</td></tr>
            <tr><td><code>ecommerce</code></td><td>E-commerce</td><td>Persuasive, benefit-focused product copy</td></tr>
            <tr><td><code>legal</code></td><td>Legal</td><td>Formal, precise legal writing</td></tr>
            <tr><td><code>realestate</code></td><td>Real Estate</td><td>Warm, descriptive property content</td></tr>
            <tr><td><code>education</code></td><td>Education</td><td>Clear, encouraging educational content</td></tr>
            <tr><td><code>government</code></td><td>Government</td><td>Accessible, transparent public communication</td></tr>
          </tbody>
        </table>
      </div>

      <h2 id="mcp">MCP Server</h2>
      <p>Use StyleMCP as an MCP server in Claude Desktop, Cursor, or any MCP-compatible client.</p>

      <h3>Claude Desktop Configuration</h3>
      <div class="code-block">
        <div class="code-header">JSON</div>
        <div class="code-body">{
  <span class="key">"mcpServers"</span>: {
    <span class="key">"stylemcp"</span>: {
      <span class="key">"command"</span>: <span class="string">"npx"</span>,
      <span class="key">"args"</span>: [<span class="string">"stylemcp"</span>],
      <span class="key">"env"</span>: {
        <span class="key">"STYLEMCP_API_KEY"</span>: <span class="string">"YOUR_API_KEY"</span>
      }
    }
  }
}</div>
      </div>

      <h2 id="cli">CLI</h2>
      <p>Validate and rewrite text from the command line.</p>

      <div class="code-block">
        <div class="code-header">Terminal</div>
        <div class="code-body"><span class="comment"># Validate a file</span>
npx stylemcp validate README.md --pack saas

<span class="comment"># Rewrite text</span>
echo "We are pleased to inform you" | npx stylemcp rewrite --pack saas</div>
      </div>

      <h2 id="github-action">GitHub Action</h2>
      <p>Automatically review copy in pull requests.</p>

      <div class="code-block">
        <div class="code-header">.github/workflows/style-check.yml</div>
        <div class="code-body">name: Style Check
on: [pull_request]

jobs:
  style:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: stylemcp/action@v1
        with:
          api-key: \${{ secrets.STYLEMCP_API_KEY }}
          pack: saas</div>
      </div>

      <h2 id="custom-packs">Custom Packs</h2>
      <p>Create your own style pack with custom rules.</p>

      <div class="code-block">
        <div class="code-header">voice.yaml</div>
        <div class="code-body">name: My Brand Voice
description: Custom voice for my company

tone:
  formality: casual
  enthusiasm: moderate
  
vocabulary:
  forbidden:
    - synergy
    - leverage
  preferred:
    utilize: use</div>
      </div>

      <h2 id="self-hosting">Self-Hosting</h2>
      <p>Run StyleMCP on your own infrastructure for complete data control.</p>

      <div class="code-block">
        <div class="code-header">Terminal</div>
        <div class="code-body">git clone https://github.com/3DUNLMTD/stylemcp
cd stylemcp
npm install
npm run start</div>
      </div>

      <div class="callout warning">
        <p><strong>Note:</strong> AI-powered rewrites require an Anthropic API key. Set <code>ANTHROPIC_API_KEY</code> in your environment.</p>
      </div>
    `;

    // Supabase client
    const sb = window.supabase.createClient(
      'https://orbliwjewqlnnutykozw.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9yYmxpd2pld3Fsbm51dHlrb3p3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkyNzE5MTEsImV4cCI6MjA4NDg0NzkxMX0.z2xrGw-3UqOHTQ28g7b83vBsavt9rDDP61MKo9I_ZSQ'
    );

    let currentUser = null;

    async function init() {
      // Insert docs content into both layouts
      document.getElementById('docsContent').innerHTML = docsHTML;
      document.getElementById('authDocsContent').innerHTML = docsHTML;

      // Check for session
      const { data: { session }, error } = await sb.auth.getSession();
      
      if (session && !error) {
        // User is logged in - show authenticated layout
        currentUser = session.user;
        document.getElementById('publicLayout').classList.add('hidden');
        document.getElementById('authLayout').classList.add('active');
        
        // Update user card
        document.getElementById('userName').textContent = currentUser.user_metadata?.full_name || currentUser.email?.split('@')[0] || 'User';
        document.getElementById('userEmail').textContent = currentUser.email || '';
        document.getElementById('userAvatar').textContent = (currentUser.email || 'U')[0].toUpperCase();
      }
      // If not logged in, public layout is already visible

      // Set up hash navigation highlighting
      updateActiveLink();
      window.addEventListener('hashchange', updateActiveLink);
    }

    function updateActiveLink() {
      const hash = window.location.hash || '#introduction';
      // Update public sidebar
      document.querySelectorAll('.sidebar-link').forEach(link => {
        link.classList.toggle('active', link.getAttribute('href') === hash);
      });
      // Update auth sidebar
      document.querySelectorAll('.nav-sublink').forEach(link => {
        link.classList.toggle('active', link.getAttribute('href') === hash);
      });
    }

    async function handleLogout() {
      try {
        await sb.auth.signOut();
        window.location.reload();
      } catch (err) {
        console.error('Logout error:', err);
        window.location.reload();
      }
    }

    // Initialize
    init();
  </script>
</body>
</html>
